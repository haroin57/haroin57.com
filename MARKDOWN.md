# Posts 用 Markdown 記法（MDN 寄せ）

このリポジトリでは、ブログ記事を `content/posts/*.md` に置くと、ビルド時に `scripts/gen-posts.ts` でHTMLへ変換され、`src/data/posts.json` に書き出されます。

## ベースライン（GFM）

基本は GitHub Flavored Markdown（`remark-gfm`）です。

- 見出し: `#`〜`####`
- 箇条書き: `-` / `*`
- 番号付き: `1.`
- 強調: `*italic*` / `**bold**`
- 打ち消し: `~~text~~`
- インラインコード: `` `code` ``
- 表: `|` 区切りの GFM テーブル
- 画像/リンク: `![alt](url)` / `[text](url)`

## 目次（`## 目次`）

記事内に `## 目次` という見出しがある場合、その直後に自動で目次が挿入されます。

- 対象: `##`〜`####` の見出し（「目次」見出し自身は除外）
- アンカー: `remark-slug` による自動生成ID

## コードブロック（MDN 寄せ）

MDN のガイドに合わせて、コードフェンス（```）の「情報文字列」を次のように扱います。

### 1) 言語指定

先頭の単語を言語として扱います。

```md
```js
console.log("hello");
```
```

- `plain` は `plaintext` と同じ扱いです。
- 以前使っていた ` ```lang:タイトル` の `:タイトル` 部分は無視されます（タイトル表示は行いません）。タイトルは本文として書いてください。

### 2) `-nolint`（リンター抑制）

言語名に `-nolint` を付けられます（例: `html-nolint`）。

```md
```html-nolint
<p>
I will not be linted.
</p>
```
```

### 3) 追加クラス（情報文字列トークン）

言語名の後ろに追加の単語を並べると、クラスとして扱います。

```md
```js example-good
const ok = true;
```

```js example-bad
const nope = true;
```
```

現在スタイルが付くのは以下です。

- `example-good`: 左に緑系のボーダー
- `example-bad`: 左に赤系のボーダー

### 4) `hidden`（非表示）

`hidden` を付けたコードブロックは、HTMLに出力されません（表示されません）。

```md
```js hidden
const secret = "not shown";
```
```

## メモ/警告/コールアウト（MDN アラート）

ブロック引用の先頭行を `[!NOTE]` / `[!WARNING]` / `[!CALLOUT]` にすると、専用のボックスとして描画されます。

```md
> [!NOTE]
> これはメモです。

> [!WARNING] 注意
> これは警告です。

> [!CALLOUT] タイトル
> これはコールアウトです。
```

## 定義リスト（MDN 形式）

GFM のリスト構文を変形した、MDN 独自の定義リスト形式に対応しています。

```md
- 用語1
  - : 用語1の説明

- `用語2`
  - : **強調**も使えます
```

制約:

- 1つの用語（`dt`）につき、定義（`dd`）は1つだけ対応しています（複数 `dd` は変換しません）。

## 数式（KaTeX）

- インライン数式: `$...$`
- ブロック数式: `$$...$$`

## HTML をそのまま使う

Markdown内に書いた HTML はそのまま通ります（例: `<br />`, `<div>...</div>` など）。

## 改行について

段落内の改行は基本的に `<br>` にはなりません（MDN/GFM寄せ）。

- 改行したい: 空行で段落を分ける、または `<br />` を明示します。

